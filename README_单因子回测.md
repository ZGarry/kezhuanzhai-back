# 可转债单因子回测分析工具

## 项目简介

这是一个专门为可转债投资分析开发的单因子回测工具包，能够对32个不同类型的因子进行独立回测分析，帮助投资者了解各个因子在可转债市场中的有效性。

## 快速开始

### 1. 快速测试（推荐）
```bash
python quick_factor_test.py
```

### 2. 生成配置文件
```bash
python generate_factor_configs.py
```

### 3. 完整因子分析
```bash
python single_factor_backtest.py
```

## 主要功能

- ✅ **32个因子全覆盖**：涵盖价格、转债特性、市场活跃度、规模、时间、价值、正股等7大类因子
- ✅ **多种运行模式**：支持快速测试、完整分析、批量运行等多种模式
- ✅ **详细分析报告**：自动生成包含年化收益率、夏普比率、最大回撤等关键指标的报告
- ✅ **可视化图表**：生成直观的性能对比图表和分类分析图
- ✅ **并行处理支持**：可选择并行模式提升运行效率
- ✅ **配置文件管理**：标准化的JSON配置文件，便于批量管理和复用

## 测试结果示例

基于2022-2024年期间的快速测试结果：

| 排名 | 因子名称 | 年化收益率 | 最大回撤 | 夏普比率 |
|------|----------|------------|----------|----------|
| 1    | 市盈率   | 3.99%      | 25.38%   | 0.141    |
| 2    | 纯债溢价率 | 3.33%      | 31.47%   | 0.092    |
| 3    | 到期收益率 | 3.14%      | 28.78%   | 0.080    |
| 4    | 收盘价   | 1.63%      | 34.95%   | -0.008   |
| 5    | 转股溢价率 | 0.19%      | 31.68%   | -0.011   |

## 因子分类

### 🏷️ 7大类因子，32个具体指标

1. **价格类因子** (5个)：收盘价、开盘价、最高价、最低价、涨跌幅
2. **转债特性因子** (6个)：转股溢价率、到期收益率、双低因子等
3. **市场活跃度因子** (3个)：成交量、成交额、换手率
4. **规模因子** (4个)：剩余规模、剩余市值、发行规模、转债市占比
5. **时间因子** (2个)：剩余年限、上市天数
6. **价值因子** (4个)：纯债价值、理论价值、期权价值、理论偏离度
7. **正股相关因子** (8个)：市盈率、市净率、市销率、总市值等

## 文件结构

```
├── single_factor_backtest.py      # 完整因子分析工具
├── quick_factor_test.py           # 快速测试工具
├── generate_factor_configs.py     # 配置生成器
├── run_batch_backtest.py          # 批量运行脚本
├── 单因子回测使用说明.md          # 详细使用说明
├── configs/single_factors/        # 因子配置文件目录
│   ├── factors_summary.txt        # 因子汇总信息
│   └── {factor_id}_config.json    # 各因子配置文件
└── results/                       # 结果输出目录
    ├── quick_test/                # 快速测试结果
    ├── single_factor_analysis/    # 完整分析结果
    └── single_factor/{factor_id}/ # 各因子详细结果
```

## 核心特性

### 🎯 智能因子选择
- 基于投资逻辑的权重设定（正权重表示越大越好，负权重表示越小越好）
- 合理的过滤条件（剩余年限>0.5年，上市天数>30天）

### 📊 丰富的评估指标
- 年化收益率
- 最大回撤
- 夏普比率
- 胜率
- 交易次数

### 🚀 高效的处理能力
- 支持并行处理
- 内存优化的数据处理
- 性能监控和报告

### 📈 专业的可视化
- 因子表现对比图
- 风险收益散点图
- 分类箱线图
- 业绩分布直方图

## 使用场景

1. **因子研究**：评估不同因子在可转债市场的有效性
2. **策略开发**：为多因子策略筛选有效的单因子
3. **风险管理**：了解各因子的风险收益特征
4. **投资决策**：辅助制定投资策略和组合配置

## 技术亮点

- **高性能数据处理**：基于Polars的高效数据处理
- **模块化设计**：清晰的代码结构，便于扩展和维护
- **配置驱动**：JSON配置文件，参数调整灵活
- **结果可追溯**：完整的回测记录和详细报告

## 注意事项

⚠️ **重要提醒**
- 本工具仅用于研究和分析，不构成投资建议
- 历史回测结果不代表未来表现
- 实际投资需考虑交易成本、滑点等因素
- 建议结合多种分析方法和市场判断

## 系统要求

- Python 3.8+
- 依赖库：pandas, polars, matplotlib, seaborn
- 内存：建议8GB以上
- 硬盘：至少1GB可用空间

## 更新日志

### v1.0.0 (2024-12-31)
- ✨ 初始版本发布
- ✨ 支持32个因子的单因子回测
- ✨ 提供快速测试和完整分析两种模式
- ✨ 自动生成配置文件和批量运行脚本
- ✨ 完整的可视化分析和报告系统

## 支持与反馈

如有问题或建议，欢迎通过以下方式联系：
- 提交Issue
- 发送邮件
- 项目讨论区

---

**Happy Trading! 📈** 